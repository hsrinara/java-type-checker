apply plugin: 'java'

sourceCompatibility = 1.8
targetCompatibility = 1.8
version = '1.0'

dependencies {
    compile files('lib/checker-1.8.7.jar')
}

// Second attempt at gradle annotation processing
//allprojects {
//    tasks.withType(JavaCompile).all { JavaCompile compile ->
//        compile.options.debug = true
//        compile.options.compilerArgs = [
////                '-version',
//                '-implicit:class',
//                '-Aunits=org.hsrinara.typechecker.custom.Price,org.hsrinara.typechecker.custom.Quantity',
//                '-processor', 'org.checkerframework.checker.units.UnitsChecker',
//                '-Xlint:processing',
//        ]
//        options.fork = true
////        options.forkOptions.executable = "$CHECKERFRAMEWORK/checker/bin/javac"
//    }
//}


// First attempt at gradle annotation processing
//compileJava {
//    options.compilerArgs <<
//            '-processor' <<
//            'org.checkerframework.checker.units.UnitsChecker' <<
//            '-Aunits=org.hsrinara.typechecker.custom.Price,org.hsrinara.typechecker.custom.Quantity'
//}

task wrapper(type: Wrapper) {
    gradleVersion = '2.2'
}